===========================================
ä¸‡é‡Œä¹¦é™¢é›†æˆæµ‹è¯•æ•°æ®å¯¼å…¥
===========================================
å¼€å§‹å¯¼å…¥æµ‹è¯•æ•°æ®...
æ•°æ®åº“: wanli_academy_test@localhost:5432
ç”¨æˆ·: wujames

[0;34mæ£€æŸ¥æµ‹è¯•æ•°æ®æ–‡ä»¶...[0m
[0;32mâœ“[0m integration-tests/test-data/roles_test_data.sql
[0;32mâœ“[0m integration-tests/test-data/users_test_data.sql
[0;32mâœ“[0m integration-tests/test-data/assignments_test_data.sql

[0;34mæ£€æŸ¥æ•°æ®åº“è¿æ¥...[0m
[0;32mâœ“[0m æ•°æ®åº“è¿æ¥æˆåŠŸ
  æ•°æ®åº“: wanli_academy_test@localhost:5432
  ç‰ˆæœ¬: PostgreSQL 14.18 (Homebrew) on aarch64-apple-darwin24.4.0, compiled by Apple clang version 17.0.0 (clang-1700.0.13.3), 64-bit

[0;34må¯¼å…¥ è§’è‰²å’Œæƒé™æ•°æ®...[0m
æ–‡ä»¶: integration-tests/test-data/roles_test_data.sql
psql:integration-tests/test-data/roles_test_data.sql:16: ERROR:  duplicate key value violates unique constraint "ukofx66keruapi6vyqpv6f2or37"
DETAIL:  Key (name)=(ROLE_HQ_TEACHER) already exists.
 setval 
--------
      4
(1 row)

 id |          name          |          description           |         created_at         
----+------------------------+--------------------------------+----------------------------
  1 | ROLE_ADMIN             | ç³»ç»Ÿç®¡ç†å‘˜ï¼Œæ‹¥æœ‰æ‰€æœ‰æƒé™       | 2025-08-17 17:26:13.921923
  2 | ROLE_STUDENT           | å­¦ç”Ÿç”¨æˆ·ï¼Œå¯ä»¥æŸ¥çœ‹å’Œæäº¤ä½œä¸š   | 2025-08-17 17:26:13.97805
  3 | ROLE_HQ_TEACHER        | æ€»éƒ¨æ•™å¸ˆï¼Œå¯ä»¥åˆ›å»ºå’Œç®¡ç†ä½œä¸š   | 2025-08-17 17:26:13.981493
  4 | ROLE_FRANCHISE_TEACHER | åŠ ç›Ÿå•†æ•™å¸ˆï¼Œå¯ä»¥æŸ¥çœ‹å’Œæ‰¹é˜…ä½œä¸š | 2025-08-17 17:26:13.990608
(4 rows)

       role_name        | user_count 
------------------------+------------
 ROLE_ADMIN             |          1
 ROLE_STUDENT           |          3
 ROLE_HQ_TEACHER        |          1
 ROLE_FRANCHISE_TEACHER |          1
(4 rows)

psql:integration-tests/test-data/roles_test_data.sql:101: ERROR:  column u.full_name does not exist
LINE 55:     u.full_name
             ^
psql:integration-tests/test-data/roles_test_data.sql:103: ERROR:  syntax error at or near "CO"
LINE 1: CO
        ^
[0;32mâœ“[0m è§’è‰²å’Œæƒé™æ•°æ® å¯¼å…¥æˆåŠŸ

[0;34må¯¼å…¥ ç”¨æˆ·æ•°æ®...[0m
æ–‡ä»¶: integration-tests/test-data/users_test_data.sql
DELETE 6
psql:integration-tests/test-data/users_test_data.sql:8: ERROR:  update or delete on table "users" violates foreign key constraint "fkcvvinrdebmgkiudtxn3p6gkp7" on table "homeworks"
DETAIL:  Key (id)=(14) is still referenced from table "homeworks".
psql:integration-tests/test-data/users_test_data.sql:24: ERROR:  column "display_name" of relation "users" does not exist
LINE 1: INSERT INTO users (username, password, email, display_name, ...
                                                      ^
INSERT 0 1
INSERT 0 1
INSERT 0 1
INSERT 0 1
INSERT 0 1
INSERT 0 1
        username        |              email               |       role_name        
------------------------+----------------------------------+------------------------
 test_admin             | admin@test.wanli.com             | ROLE_ADMIN
 test_franchise_teacher | franchise.teacher@test.wanli.com | ROLE_FRANCHISE_TEACHER
 test_hq_teacher        | hq.teacher@test.wanli.com        | ROLE_HQ_TEACHER
 test_student1          | student1@test.wanli.com          | ROLE_STUDENT
 test_student2          | student2@test.wanli.com          | ROLE_STUDENT
 test_student3          | student3@test.wanli.com          | ROLE_STUDENT
(6 rows)

       role_name        | user_count 
------------------------+------------
 ROLE_ADMIN             |          1
 ROLE_FRANCHISE_TEACHER |          1
 ROLE_HQ_TEACHER        |          1
 ROLE_STUDENT           |          3
(4 rows)

[0;32mâœ“[0m ç”¨æˆ·æ•°æ® å¯¼å…¥æˆåŠŸ

[0;34må¯¼å…¥ ä½œä¸šæ•°æ®...[0m
æ–‡ä»¶: integration-tests/test-data/assignments_test_data.sql
DELETE 10
DELETE 5
INSERT 0 5
INSERT 0 10
       title       |              description               | question_count 
-------------------+----------------------------------------+----------------
 Test_æ•°å­¦åŸºç¡€ç»ƒä¹  | æµ‹è¯•ç”¨æ•°å­¦åŸºç¡€ç»ƒä¹ é¢˜ï¼ŒåŒ…å«åŠ å‡ä¹˜é™¤è¿ç®— |              3
 Test_æ•°å­¦åº”ç”¨é¢˜   | æµ‹è¯•ç”¨æ•°å­¦åº”ç”¨é¢˜ï¼ŒåŸ¹å…»é€»è¾‘æ€ç»´èƒ½åŠ›     |              2
 Test_ç»¼åˆèƒ½åŠ›æµ‹è¯• | æµ‹è¯•ç”¨ç»¼åˆèƒ½åŠ›è¯„ä¼°ä½œä¸š                 |              1
 Test_è‹±è¯­å•è¯ç»ƒä¹  | æµ‹è¯•ç”¨è‹±è¯­å•è¯è®°å¿†å’Œæ‹¼å†™ç»ƒä¹            |              2
 Test_è¯­æ–‡é˜…è¯»ç†è§£ | æµ‹è¯•ç”¨è¯­æ–‡é˜…è¯»ç†è§£ç»ƒä¹                  |              2
(5 rows)

  question_type  | question_count 
-----------------+----------------
 SINGLE_CHOICE   |              4
 FILL_BLANK      |              3
 ESSAY           |              2
 MULTIPLE_CHOICE |              1
(4 rows)

       category        | count 
-----------------------+-------
 Test Users            |     6
 Test Homeworks        |     5
 Test Questions        |    10
 User Role Assignments |     6
(4 rows)

        username        |              email               |       role_name        
------------------------+----------------------------------+------------------------
 test_admin             | admin@test.wanli.com             | ROLE_ADMIN
 test_franchise_teacher | franchise.teacher@test.wanli.com | ROLE_FRANCHISE_TEACHER
 test_hq_teacher        | hq.teacher@test.wanli.com        | ROLE_HQ_TEACHER
 test_student1          | student1@test.wanli.com          | ROLE_STUDENT
 test_student2          | student2@test.wanli.com          | ROLE_STUDENT
 test_student3          | student3@test.wanli.com          | ROLE_STUDENT
(6 rows)

[0;32mâœ“[0m ä½œä¸šæ•°æ® å¯¼å…¥æˆåŠŸ

[0;34méªŒè¯å¯¼å…¥ç»“æœ...[0m
[0;32mâœ“[0m æµ‹è¯•ç”¨æˆ·: 6 ä¸ª
[0;32mâœ“[0m æµ‹è¯•ä½œä¸š: 5 ä¸ª
[0;32mâœ“[0m æµ‹è¯•é¢˜ç›®: 10 ä¸ª
[0;32mâœ“[0m è§’è‰²åˆ†é…: 6 ä¸ª

[0;34mæµ‹è¯•è´¦æˆ·ä¿¡æ¯:[0m
===========================================
        username        |              email               |       role_name        
------------------------+----------------------------------+------------------------
 test_admin             | admin@test.wanli.com             | ROLE_ADMIN
 test_franchise_teacher | franchise.teacher@test.wanli.com | ROLE_FRANCHISE_TEACHER
 test_hq_teacher        | hq.teacher@test.wanli.com        | ROLE_HQ_TEACHER
 test_student1          | student1@test.wanli.com          | ROLE_STUDENT
 test_student2          | student2@test.wanli.com          | ROLE_STUDENT
 test_student3          | student3@test.wanli.com          | ROLE_STUDENT
(6 rows)


[1;33mé»˜è®¤å¯†ç : password123[0m
[1;33må¯†ç å·²ä½¿ç”¨BCryptåŠ å¯†å­˜å‚¨[0m

[0;32m===========================================[0m
[0;32mæµ‹è¯•æ•°æ®å¯¼å…¥å®Œæˆï¼[0m
[0;32m===========================================[0m

ä½¿ç”¨è¯´æ˜:
1. ä½¿ç”¨æµ‹è¯•è´¦æˆ·ç™»å½•ç³»ç»Ÿè¿›è¡Œé›†æˆæµ‹è¯•
2. è¿è¡Œ './import-test-data.sh --clean' æ¸…ç†æµ‹è¯•æ•°æ®
3. è¿è¡Œ './import-test-data.sh --backup' å¯¼å…¥å‰å¤‡ä»½æ•°æ®
